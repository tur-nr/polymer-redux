(function(a,b){'object'==typeof exports&&'undefined'!=typeof module?module.exports=b():'function'==typeof define&&define.amd?define(b):a.PolymerRedux=b()})(this,function(){'use strict';return function(a){var b=new Map,c=function(e,f){if(!b.has(e)){var g=Object.keys(f).filter(function(p){var q=f[p];return!!q.hasOwnProperty('statePath')&&(!q.readOnly&&q.notify&&console.warn('PolymerRedux: <'+(e.constructor.is+'>.')+(p+' has "notify" enabled, two-way bindings goes against Redux\'s paradigm')),!0)}),h=function(p){g.forEach(function(q){var r=f[q],s=r.statePath,t=r.readOnly,u='function'==typeof s?s.call(e,p):Polymer.Path.get(p,s);t?e._setProperty(q,u):e[q]=u})},i=a.subscribe(function(){var p=a.getState();h(p),e.dispatchEvent(new CustomEvent('state-changed',{detail:p}))});return b.set(e,i),h(a.getState())}},d=function(e){var f=b.get(e);'function'==typeof f&&f()};return function(e){return class extends e{connectedCallback(){super.connectedCallback();var f=this.constructor.properties;c(this,f||{})}disconnectedCallback(){super.disconnectedCallback(),d(this)}dispatch(){for(var f=this.constructor.actions,g=arguments.length,h=Array(g),i=0;i<g;i++)h[i]=arguments[i];var j=h[0];if('string'==typeof j){if(!f||'function'!=typeof f[j])throw new TypeError('PolymerRedux: <'+(this.constructor.is+'> has no action creator "')+j+'"');j=f[j].apply(this.constructor,h.slice(1))}return a.dispatch(j)}getState(){return a.getState()}}}}});